<html lang="en">
	<head>
    <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="gen/main.js"></script>
    <script>
      const controller = {};
      document.addEventListener("DOMContentLoaded", () => {
        const div = document.getElementById("root");
        div.style.border = "2px solid red";
        exports.hookupApp(div, controller);
      });
    </script>
    <title>Demo</title>
	</head>
	<body>
    <div style="display: flex; flex-direction: row; position: absolute;">
      <div>
        <label for="program">Program:</label>
        <select id="program" onchange="controller?.setActiveProgram(this.value)">
          <option value="sample-multicolor" selected>Sample Multicolor</option>
          <option value="sample-red">Sample Red</option>
          <option value="sample-blue">Sample Blue</option>
        </select>
      </div>
      <div>
        <label for="onChange">OnChange:</label>
        <select id="onChange" onchange="controller?.setLoopActions(this.value === 'static' ? undefined : 'animate'); updateDescription()">
          <option value="static" selected>static</option>
          <option value="animated">animated</option>
        </select>
      </div>
    </div>



    <div id="root"></div>


    <div id="description" style="position: absolute; right: 20px; bottom: 20px; white-space: pre;"></div>
    <script>
      function updateDescription() {
        const descDiv = document.getElementById("description");
        const refreshValue = document.getElementById("onChange");
        descDiv.textContent = refreshValue.value === "static" ?
          `Sample triangle.`
          : `Sample animated triangle.`;
      }
      updateDescription();
    </script>

    <div style="position: fixed; right: 15px; top: 15px">
      <a id="source" href="https://neatnik.net/view-source/[nowrap,notidy]/" target="_blank">view source</a>
      <script>
       document.getElementById("source").href = "https://neatnik.net/view-source/[nowrap,notidy]/" + location.href;
      </script>
    </div>
    <iframe src="https://jacklehamster.github.io/banner.html" frameborder="0" width="100%" height="100%"></iframe>
	</body>
</html>
